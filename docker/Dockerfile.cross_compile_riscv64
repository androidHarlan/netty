FROM ubuntu:20.04

ENV SOURCE_DIR /root/source

ENV DEBIAN_FRONTEND noninteractive

# Install requirements
RUN apt-get update -qq \
 && apt-get install -qq -y \
        autoconf \
        automake \
        curl \
        gcc-riscv64-linux-gnu \
        git \
        libaio-dev \
        libc-dev \
        libssl-dev \
        libtool \
        make \
        openjdk-8-jdk-headless \
        tar \
        unzip \
        zip \
 && rm -rf /var/lib/apt/lists/*

RUN mkdir -p $SOURCE_DIR
WORKDIR $SOURCE_DIR

ENV JAVA_HOME="/usr/lib/jvm/java-8-openjdk-amd64"

# Cleanup
RUN rm -rf $SOURCE_DIR
